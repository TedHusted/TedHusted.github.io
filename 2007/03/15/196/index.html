<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>196 | Currents</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Incremental Refactoring
Recently, someone asked on the Ext list:

&amp;gt; Is Diagraming your classes/code segments
&amp;gt; the best way to keep yourself
&amp;gt; organized during the programming stage?
&amp;gt; Or">
<meta property="og:type" content="article">
<meta property="og:title" content="196">
<meta property="og:url" content="http://TedHusted.github.io/2007/03/15/196/index.html">
<meta property="og:site_name" content="Currents">
<meta property="og:description" content="Incremental Refactoring
Recently, someone asked on the Ext list:

&amp;gt; Is Diagraming your classes/code segments
&amp;gt; the best way to keep yourself
&amp;gt; organized during the programming stage?
&amp;gt; Or">
<meta property="og:updated_time" content="2017-02-18T02:25:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="196">
<meta name="twitter:description" content="Incremental Refactoring
Recently, someone asked on the Ext list:

&amp;gt; Is Diagraming your classes/code segments
&amp;gt; the best way to keep yourself
&amp;gt; organized during the programming stage?
&amp;gt; Or">
  
    <link rel="alternate" href="/atom.xml" title="Currents" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Currents</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Getting there from here</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://TedHusted.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-196" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2007/03/15/196/" class="article-date">
  <time datetime="2007-03-15T09:00:00.000Z" itemprop="datePublished">2007-03-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      196
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><span style="font-size:180%;">Incremental Refactoring</span></p>
<p>Recently, someone asked on the <a href="http://www.yui-ext.com/forum/viewtopic.php?t=2797" target="_blank" rel="external">Ext list</a>:</p>
<blockquote>
<pre>&gt; Is Diagraming your classes/code segments
&gt; the best way to keep yourself
&gt; organized during the programming stage?
&gt; Or is there some more efficient
&gt; and easier way to do it?</pre>

</blockquote>
<p>I thought the advice of the Ext lead developer, Jack Slocum, beared repeating.</p>
<blockquote>
<p>The approach I have found to be most effective is “incremental refactoring”. This means starting out with a basic idea of how your object model should look. It will probably be raw and imperfect, but you know that and knowing that is the key to  what makes it work.</p>
<p>Start out small and make pieces of it work. While it’s small (and not a big object model with all kinds of pieces to develop before you have anything working) you should be able to find various imperfections with your initial design (like browser problems!) and you can refactor while it’s still cheap. As soon as you have something working, it’s time to refactor to look for ways to make things more generic, cut code duplication, improve interfaces and efficiency. Then start on the next piece in the same way.</p>
<p>The most important thing is you have to think OO, think efficiency and know your patterns. Once this is in place, the rest is kind of automatic.IMHO, one of the best books on “incremental refactoring” (or successive refinement) is “<a href="http://www.amazon.com/exec/obidos/ASIN/0321146530/husteddotcom-20" target="_blank" rel="external">Test Driven Development: By Example</a> by Kent Beck. While it doesn’t mean to be about successive refinement per se, that’s exactly what Beck is doing in the book. At 240 pages, it also has the virtue of being relatively brief. </p>
</blockquote>
<p>As he codes, Beck keeps a running TODO list of the next baby-steps needed to finish a larger task. Beck says he keeps his on paper, but I use a text file. I even post the running list to the issue tracker, like a mini-progress report. </p>
<p>Successive refinement works well with an issue tracker that supports roadmaps (like JIRA). We can then organize the major features into iterations or milestones and ship one iteration at a time. Ideally, each milestone should be a working, if incomplete, version of the target application. </p>
<p>At work, we follow the usual <a href="http://www.extremeprogramming.org/" target="_blank" rel="external">Extreme Programming</a> model, except that we prefer formal <a href="http://opensource.atlassian.com/confluence/oss/display/STRUTS/Use+Cases" target="_blank" rel="external">use cases</a> to XP stories. (See Cockburn’s “<a href="http://www.amazon.com/exec/obidos/ASIN/0201702258/husteddotcom-20" target="_blank" rel="external">Writing Effective Use Cases</a>“. It weighs in at 270 pages, but the first 20 pages tell you everything you actually need to know.)</p>
<p>Essentially, XP interations are successive refinements, which is an approach Nicholas Wirth was advocating decades ago, when he <a href="http://www.pascal-central.com/top10.html" target="_blank" rel="external">designed Pascal</a>. The key is to organize your work so that there is some kind of working application at every step of the way – even if you have to fake some of the resources. :) </p>
<p>In working with Ajax and JSON, one pleasant surprise is how easy it can be to fake resources. For example, the YUI connection manager can accept a JSON object, but it doesn’t care if the object came from a XHR request or static data. We can switch between a set of test data and the live stream with one line of code.</p>
<pre><code>LISTER.init = function (data)  {
PhoneBook.rpc.entry_list(LISTER.load).call(ANVIL.channel); // live database
// LISTER.load(LISTER.localData); // static data
};
LISTER.localData = {
&quot;result&quot; : [[&apos;c5b6bbb1-66d6-49cb-9db6-743af6627828&apos;, &apos;Clinton&apos;, &apos;William&apos;,
&apos;555-743-7828&apos;, &apos;bubba&apos;, &apos;08/19/1992&apos;, 37.5, &apos;0&apos;],
[&apos;7c424227-8e19-4fb5-b089-423cfca723e1&apos;, &apos;Roosevelt&apos;, &apos;Theodore&apos;,
&apos;555-743-8942&apos;, &apos;bull&apos;, &apos;09/14/2002&apos;, 37.5, &apos;0&apos;],
[&apos;9320ea40-0c01-43e8-9cec-8fb9b3928c2c&apos;, &apos;Kennedy&apos;, &apos;John F.&apos;,
&apos;555-743-3928&apos;, &apos;fitz&apos;, &apos;05/29/1987&apos;, 37.5, &apos;0&apos;],
[&apos;3b27c933-c1dc-4d85-9744-c7d9debae196&apos;, &apos;Pierce&apos;, &apos;Franklin&apos;,
&apos;555-743-7919&apos;, &apos;benji&apos;, &apos;11/18/1984&apos;, 35, &apos;0&apos;],
[&apos;554ff9e7-a6f5-478a-b76b-a666f5c54e40&apos;, &apos;Jefferson&apos;, &apos;Thomas&apos;,
&apos;555-743-5440&apos;, &apos;monty&apos;, &apos;07/04/1976&apos;, 37.5, &apos;0&apos;]]
};
</code></pre><p>Now <em>that’s</em> how you spell MVC!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://TedHusted.github.io/2007/03/15/196/" data-id="cizamhl91004yfmx3yew1wufg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2007/03/16/195/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          195
        
      </div>
    </a>
  
  
    <a href="/2007/03/14/197/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">197</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/">Ajax</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/Apache-Way/">Apache Way</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/Apache-Way/dev/">dev</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Ajax/Apache-Way/dev/Struts/">Struts</a></li></ul></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Apache-Way/">Apache Way</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/">Cloud</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/Google/">Google</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/Google/Wave/">Wave</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Cloud/Wave/">Wave</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Force-com/">Force.com</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Force-com/Salesforce/">Salesforce</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Force-com/">Force.com</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Open-Source/">Open Source</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Open-Source/Salesforce/">Salesforce</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Salesforce/">Salesforce</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Struts/">Struts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dev/">dev</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/01/">January 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/09/">September 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/07/">July 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/05/">May 2010</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/11/">November 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/08/">August 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/07/">July 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/04/">April 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/03/">March 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/02/">February 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/01/">January 2009</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/12/">December 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/11/">November 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/10/">October 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/09/">September 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/07/">July 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/06/">June 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2008/01/">January 2008</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/12/">December 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/09/">September 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/08/">August 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/07/">July 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/06/">June 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/05/">May 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/04/">April 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2007/03/">March 2007</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/11/">November 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/10/">October 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/09/">September 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/06/">June 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/05/">May 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/04/">April 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/03/">March 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/02/">February 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/01/">January 2006</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2004/04/">April 2004</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2003/04/">April 2003</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2012/05/05/a-nimble-introduction-to-force-com/">A Nimble Introduction to Force.com</a>
          </li>
        
          <li>
            <a href="/2012/04/26/office-data-silos-considered-harmful/">Office Data Silos Considered Harmful</a>
          </li>
        
          <li>
            <a href="/2012/04/07/failing-safe-with-the-apex-data-loader-for-salesforce/">Failing safe with the Apex Data Loader for Salesforce</a>
          </li>
        
          <li>
            <a href="/2012/04/04/salesforce-open-source-pioneer/">Salesforce – Open Source Pioneer</a>
          </li>
        
          <li>
            <a href="/2012/04/01/sun-goes-nova-cloud-intact/">Sun goes Nova. Cloud intact.</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Ted Husted<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>